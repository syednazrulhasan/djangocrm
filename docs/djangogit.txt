sudo apt-get update && upgrade

sudo apt-get install vim python3 python3-pip python3-dev virtualenv pkg-config libmysqlclient-dev

sudo apt-get install nginx

1- Clone from git in my case it was 
git clone https://github.com/syednazrulhasan/djangocrm

2- CD into the cloned folder in my case its 
cd djangocrm

4- Create a  virtual enviorment 
python3 -m virtualenv venv

5- Activate the virtual enviorment
source venv/bin/activate

6- Install all packages using following command ( Make Sure to keep requirements.txt updated  on git) 
pip install -r requirements.txt

7- Run following commands to make sure migrate and makemigrations commands are run
python3 manage.py migrate 

python3 manage.py makemigrations 

8- Finally run the command to django on your instance is 
python3 manage.py runserver 0.0.0.0:8000

9-Python manage.py createsuperuser

10- Install Gunicorn 
pip install gunicorn

11- Starting Gunicorn to serve a Django application named "advacrmproject"
cd /home/ubuntu/djangocrm
gunicorn advacrmproject.wsgi:application --bind 0.0.0.0:8000

12- Update Nginx configuration files
sudo vi /etc/nginx/conf.d/advacrmproject.conf

server {
    listen 80;
    server_name your_domain_or_ip;

    location = /favicon.ico { access_log off; log_not_found off; }
    location /static/ {
        root /path/to/your/project;
    }

    location / {
        include proxy_params;
        proxy_pass http://127.0.0.1:8000;  # Assuming Gunicorn is running on the same machine
        proxy_connect_timeout 600s;
        proxy_send_timeout 600s;
        proxy_read_timeout 600s;
    }
}


1. Create a gunicorn.service File:

sudo vi /etc/systemd/system/gunicorn.service



[Unit]
Description=Gunicorn service for CRM Project
After=network.target

[Service]
User=your_username  # Replace with the username that runs your Django project
Group=your_group    # Replace with the group that runs your Django project
WorkingDirectory=/home/ubuntu/djangocrm
ExecStart=/home/ubuntu/djangocrm/venv/bin/gunicorn advacrmproject.wsgi:application --bind 0.0.0.0:8000
Restart=always

[Install]
WantedBy=multi-user.target


sudo systemctl daemon-reload
sudo systemctl start gunicorn



sudo systemctl enable gunicorn
