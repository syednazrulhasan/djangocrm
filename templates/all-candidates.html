{% extends 'base.html' %}

{% block content %}
<div class="row">

	<div class="col">
	</div>

    <div class="col-8">

		<div class="py-4 text-center">
	    	<h4>All Candidates</h4>
	  	</div>
	  	<div>

		  	{% if messages %}
	    		{% for message in messages %}
	    		<div class="alert alert-success">
				  <strong>{{message}}</strong>
				  <span style="cursor: pointer;" class="close-icon" onclick="this.parentElement.style.display='none';">&times;</span>
				</div>
	    		{% endfor %}
	    	{% endif %}
	  	</div>

		<table class="table  table-hover">
		  <thead>
		    <tr>
		      <th scope="col">#</th>
		      <th scope="col">#ID</th>
		      <th scope="col">Name</th>
		      <th scope="col">Phone</th>
		      <th scope="col">Email</th>
		      <th scope="col">Action</th>
		    </tr>
		  </thead>
		  <tbody>

		  	{% for candidate in candidates %}
		    <tr>
				<th scope="row">{{ forloop.counter }}</th>
				<td>{{ candidate.user_unique }}</td>
				<td>{{ candidate.user_name }}</td>
				<td>{{ candidate.user_phone }}</td>
				<td>{{ candidate.user_email }}</td>
				<td>
				    <!-- Edit Action -->
				    <a href="{% url 'edit_candidate' candidate.user_id %}">
				        <i class="bi bi-pencil-square" title="Edit"></i>
				    </a>
				    <!-- Delete Action -->
				    <a onclick="return confirmDelete();" href="{% url 'delete_candidate' candidate.user_id %}">
				        <i class="bi bi-trash" title="Delete"></i>
				    </a>
				</td>
		    </tr>
		    {% endfor %}
		    
		  </tbody>
		</table>
	</div>

	<div class="col">	
	</div>

</div>
<script>
    function confirmDelete() {
        return confirm("Are you sure you want to delete this course?");
    }
</script>
{% endblock %}